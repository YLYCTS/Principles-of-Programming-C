#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

int main()
{
    int input = 0;

    printf("小明是闰年2000年2月29日出生的。他有7个非常好的小伙伴，都不是2月份出生。\n");
    printf("小明生日时候，会收到每个小伙伴100个棒棒糖。小伙伴过生日时候，小明会送出20个棒棒糖。\n");
    printf("根据输入的结束年份，计算小明从出生年份年初，到该年份年尾一共过了几次生日，送出多少个棒棒糖，获得多少个棒棒糖。\n");
    printf("请输入结束的年份[2000,3000]之间的正整数，输入999时程序退出。\n");

    // 主循环，直到用户输入999退出
    while (true)
    {
        int cnt = 0;  // 记录小明过生日的次数（闰年次数）

        // 输入验证循环：确保输入是整数且在有效范围内
        while (!scanf("%d", &input) || ((input < 2000 || input > 3000) && input != 999))
        {
            int tmp; // 临时变量用于清空输入缓冲区
            // 清空输入缓冲区中的非法字符，直到遇到换行符或文件结束符
            while ((tmp = getchar()) != '\n' && tmp != EOF);
            printf("非法输入，需要[2000,3000]闭区间的正整数，输入999时程序退出。\n");
        }
        if (input == 999)
        {
            break;
        }

        // 计算从2000年到输入年份之间的闰年数量（小明过生日的次数）
        // 闰年判断条件：能被4整除但不能被100整除，或者能被400整除
        for (int i = 2000; i <= input; i++)
        {
            if ((i % 4 == 0 && i % 100 != 0) || i % 400 == 0)
            {
                cnt++;
            }
        }
        printf("小明从出生年份年初，到2005年尾一共过了%d次生日。\n", cnt);
        printf("小明从出生年份年初，到2005年尾\"理论上(棒棒糖可以其父母代送)\"一共送出%d个棒棒糖。\n", (input - 1999) * 140);
        printf("小明从出生年份年初，到2000年尾\"理论上(棒棒糖可以其父母代送)\"一共收到小伙伴%d个棒棒糖。\n", 700 * cnt);
        printf("请输入结束的年份[2000,3000]之间的正整数，输入999时程序退出。\n");
    }
}
